!function(e){function t(t){for(var n,i,c=t[0],l=t[1],d=t[2],f=0,b=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&b.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);b.length;)b.shift()();return o.push.apply(o,d||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var l=r[c];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=l;o.push([165,1]),r()}({165:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(15),i=r.n(o),c=r(23),l=r(45),d=r(88),u=(r(103),r(46)),f=r(1);class b extends a.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){}render(){return this.state.hasError?Object(f.d)("h1",null,"Something went wrong."):this.props.children}}function s(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}var h=e=>({type:"FETCH_WEATHER_FAILURE",payload:e}),p=e=>({type:"SELECT_WEATHER_ITEM",payload:e}),w=()=>function(){var e,t=(e=function*(e){try{e({type:"FETCH_WEATHER_BEGIN"});var t=yield fetch("http://api.openweathermap.org/data/2.5/forecast?id=".concat("2643743","&appid=").concat("416f21735638892910fc788dbd92dc24")),r=yield t.json();if(r.cod&&"200"!==r.cod)return e(h(r.message));e((e=>({type:"FETCH_WEATHER_SUCCESS",payload:e}))(r))}catch(t){console.error(t),e(h("Error fetching weather data. Please try again later"))}},function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){s(o,n,a,i,c,"next",e)}function c(e){s(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),v=r(9);function O(e){var{index:t}=e;return t<0?"headerRow":t%2==0?"evenRow":"oddRow"}var y=e=>{var{onSelect:t,weather:r}=e;return Object(f.d)(v.a,null,e=>{var{height:n,width:a}=e;return Object(f.d)(v.c,{width:Math.max(1570,a),height:n,headerHeight:40,rowHeight:30,rowCount:r.list.length,rowGetter:e=>{var{index:t}=e;return r.list[t]},rowClassName:O,onRowClick:t},Object(f.d)(v.b,{label:"Date",dataKey:"dt_txt",width:200,flexGrow:1}),Object(f.d)(v.b,{width:110,label:"Visibility",dataKey:"visibility",flexGrow:1}),Object(f.d)(v.b,{width:100,label:"Wind",dataKey:"wind",cellDataGetter:e=>{var{rowData:t}=e;return t.wind.speed+" / "+t.wind.deg},flexGrow:1}),Object(f.d)(v.b,{width:100,label:"Clouds",dataKey:"clouds",cellDataGetter:e=>{var{rowData:t}=e;return t.clouds.all},flexGrow:1}),Object(f.d)(v.b,{width:100,label:"Rain",dataKey:"rain",cellDataGetter:e=>{var{rowData:t}=e;return t.rain&&t.rain["3h"]},flexGrow:1}),Object(f.d)(v.b,{width:120,label:"Feels like",dataKey:"feels_like",cellDataGetter:e=>{var{rowData:t}=e;return t.main.feels_like},flexGrow:1}),Object(f.d)(v.b,{width:140,label:"Grnd Level",dataKey:"grnd_level",cellDataGetter:e=>{var{rowData:t}=e;return t.main.grnd_level},flexGrow:1}),Object(f.d)(v.b,{width:120,label:"Humidity",dataKey:"humidity",cellDataGetter:e=>{var{rowData:t}=e;return t.main.humidity},flexGrow:1}),Object(f.d)(v.b,{width:120,label:"Pressure",dataKey:"pressure",cellDataGetter:e=>{var{rowData:t}=e;return t.main.pressure},flexGrow:1}),Object(f.d)(v.b,{width:120,label:"Sea Level",dataKey:"sea_level",cellDataGetter:e=>{var{rowData:t}=e;return t.main.sea_level},flexGrow:1}),Object(f.d)(v.b,{width:120,label:"Temp",dataKey:"temp",cellDataGetter:e=>{var{rowData:t}=e;return t.main.temp},flexGrow:1}),Object(f.d)(v.b,{width:120,label:"Temp min",dataKey:"temp_min",cellDataGetter:e=>{var{rowData:t}=e;return t.main.temp_min},flexGrow:1}),Object(f.d)(v.b,{width:120,label:"Temp max",dataKey:"temp_max",cellDataGetter:e=>{var{rowData:t}=e;return t.main.temp_max},flexGrow:1}))})};function j(e){var{index:t}=e;return t<0?"headerRow":t%2==0?"evenRow":"oddRow"}var m=e=>{var{item:t}=e;return Object(f.d)(a.a.Fragment,null,Object(f.d)(v.a,null,e=>{var{height:r,width:n}=e;return Object(f.d)(v.c,{width:Math.max(550,n),height:r,headerHeight:40,rowHeight:30,rowCount:t.weather.length,rowGetter:e=>{var{index:r}=e;return t.weather[r]},rowClassName:j},Object(f.d)(v.b,{label:"Main",dataKey:"main",width:150}),Object(f.d)(v.b,{width:200,label:"Description",dataKey:"description",flexGrow:1}),Object(f.d)(v.b,{width:200,label:"Icon",dataKey:"icon"}))}))};function g(){var e=S(["\n  display: inline-block;\n  text-align: center;\n\n  min-width: 70px;\n  padding: 0.5em 1.125em;\n  margin-left: 2em;\n\n  background-color: #0087ff;\n  border-color: #0060ff;\n  color: #fff;\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n  }\n  &:active {\n    background-color: #0060ff;\n  }\n"]);return g=function(){return e},e}function E(){var e=S(["\n  ","\n  color: red;\n"]);return E=function(){return e},e}function x(){var e=S(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  span {\n    display: inline-block;\n    max-width: 500px;\n  }\n"]);return x=function(){return e},e}function _(){var e=S(["\n  overflow: auto;\n  height: 100%;\n  padding: 2em;\n"]);return _=function(){return e},e}function D(){var e=S(["\n  padding: 1em 2em;\n  box-shadow: inset 0 -1px 0 #e1e4e8;\n"]);return D=function(){return e},e}function G(){var e=S(["\n  padding: calc(2em + 10px);\n  background-color: #fafbfc;\n  box-shadow: inset 0 -1px 0 #e1e4e8;\n"]);return G=function(){return e},e}function T(){var e=S(["\n  height: 80%;\n  width: 100%;\n"]);return T=function(){return e},e}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var R=Object(f.c)(T()),C=Object(f.c)(G()),P=Object(f.c)(D()),H=Object(f.c)(_()),k=Object(f.c)(x()),K=Object(f.c)(E(),k),A=u.a.a(g()),F=Object(l.b)(e=>({weather:e.weather}))(e=>{var{dispatch:t,weather:r}=e,{loading:n,city:o,selected:i,error:c}=r;if(a.a.useEffect(()=>{t(w())},[]),n)return Object(f.d)("div",{css:k},Object(f.d)("span",null,"Loading weather data..."));if(c)return Object(f.d)("div",{css:K},Object(f.d)("span",null,c));return Object(f.d)("div",{css:R},Object(f.d)("div",{css:C},Object(f.d)("h2",null,o.name,", ",o.country)),i&&Object(f.d)("div",{css:P},i.dt_txt," ",Object(f.d)(A,{onClick:function(){t(p(null))}},"Return")),Object(f.d)("div",{css:H},i?Object(f.d)(m,{item:i}):Object(f.d)(y,{onSelect:function(e){t(p(e.rowData))},weather:r})))});function I(){var e=M(["\n  min-height: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return I=function(){return e},e}function L(){var e=M(["\n  html,\n  body,\n  #root {\n    height: 100%;\n  }\n\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: Circular, Arial, sans-serif;\n    font-size: 18px;\n    color: var(--font-color);\n    background-color: var(--tertiary-color);\n    padding: 0;\n    margin: 0;\n  }\n\n  .evenRow {\n    background-color: #fff;\n  }\n  .oddRow {\n    background-color: #f0efef;\n  }\n"]);return L=function(){return e},e}function M(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var W=Object(f.c)(L()),N=u.a.div(I());function z(){return Object(f.d)(b,null,Object(f.d)(f.a,{styles:W}),Object(f.d)(N,null,Object(f.d)(F,null)))}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V={city:{},list:[],loading:!1,error:null,selected:null};var J=Object(c.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER_BEGIN":return X(X({},e),{},{loading:!0,error:null});case"FETCH_WEATHER_SUCCESS":return X(X({},e),{},{loading:!1,city:t.payload.city,list:t.payload.list});case"FETCH_WEATHER_FAILURE":return X(X({},e),{},{loading:!1,error:t.payload,city:{},list:[]});case"SELECT_WEATHER_ITEM":return X(X({},e),{},{selected:t.payload});default:return e}}}),q=Object(c.e)(J,Object(c.d)(Object(c.a)(d.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():e=>e));i.a.render(a.a.createElement(l.a,{store:q},a.a.createElement(z,null)),document.getElementById("root"))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvRXJyb3JCb3VuZGFyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy93ZWF0aGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1dlYXRoZXJWaWV3L1dlYXRoZXJUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9XZWF0aGVyVmlldy9XZWF0aGVySXRlbVRhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1dlYXRoZXJWaWV3L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9BcHAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlZHVjZXJzL3dlYXRoZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlZHVjZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjAiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIkVycm9yQm91bmRhcnkiLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdXBlciIsInRoaXMiLCJzdGF0ZSIsImhhc0Vycm9yIiwiZXJyb3IiLCJjb21wb25lbnREaWRDYXRjaCIsImVycm9ySW5mbyIsInJlbmRlciIsImNoaWxkcmVuIiwiZmV0Y2hXZWF0aGVyRmFpbHVyZSIsImVycm9yTWVzc2FnZSIsInR5cGUiLCJwYXlsb2FkIiwic2VsZWN0V2VhdGhlckl0ZW0iLCJpdGVtIiwiZmV0Y2hXZWF0aGVyIiwiZGlzcGF0Y2giLCJyZXNwb25zZSIsImZldGNoIiwianNvbiIsImNvZCIsIm1lc3NhZ2UiLCJmZXRjaFdlYXRoZXJTdWNjZXNzIiwiZXJyIiwiY29uc29sZSIsInJvd0NsYXNzTmFtZSIsImluZGV4IiwiV2VhdGhlclRhYmxlIiwib25TZWxlY3QiLCJ3ZWF0aGVyIiwiaGVpZ2h0Iiwid2lkdGgiLCJNYXRoIiwibWF4IiwiaGVhZGVySGVpZ2h0Iiwicm93SGVpZ2h0Iiwicm93Q291bnQiLCJsaXN0Iiwicm93R2V0dGVyIiwib25Sb3dDbGljayIsImxhYmVsIiwiZGF0YUtleSIsImZsZXhHcm93IiwiY2VsbERhdGFHZXR0ZXIiLCJyb3dEYXRhIiwid2luZCIsInNwZWVkIiwiZGVnIiwiY2xvdWRzIiwiYWxsIiwicmFpbiIsIm1haW4iLCJmZWVsc19saWtlIiwiZ3JuZF9sZXZlbCIsImh1bWlkaXR5IiwicHJlc3N1cmUiLCJzZWFfbGV2ZWwiLCJ0ZW1wIiwidGVtcF9taW4iLCJ0ZW1wX21heCIsIldlYXRoZXJJdGVtVGFibGUiLCJjb250YWluZXIiLCJjc3MiLCJoZWFkZXIiLCJzdWJoZWFkZXIiLCJ0YWJsZSIsImxvYWRpbmdTdHlsZXMiLCJlcnJvclN0eWxlcyIsIkJ1dHRvbiIsInN0eWxlZCIsImEiLCJjb25uZWN0IiwibG9hZGluZyIsImNpdHkiLCJzZWxlY3RlZCIsInVzZUVmZmVjdCIsImNvdW50cnkiLCJkdF90eHQiLCJvbkNsaWNrIiwiZXZlbnQiLCJnbG9iYWxTdHlsZXMiLCJBcHBXcmFwcGVyIiwiZGl2IiwiQXBwIiwic3R5bGVzIiwiaW5pdGlhbFN0YXRlIiwiY29tYmluZVJlZHVjZXJzIiwiYWN0aW9uIiwic3RvcmUiLCJjcmVhdGVTdG9yZSIsInJvb3RSZWR1Y2VyIiwiY29tcG9zZSIsImFwcGx5TWlkZGxld2FyZSIsInRodW5rIiwiX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fXyIsIm5vb3AiLCJSZWFjdERPTSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FDbkJLLEVBQWlCTCxFQUFLLEdBSUhNLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUgsRUFBU0ssT0FBUUYsSUFDekJKLEVBQVVDLEVBQVNHLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlgsSUFBWVcsRUFBZ0JYLElBQ3BGSyxFQUFTTyxLQUFLRCxFQUFnQlgsR0FBUyxJQUV4Q1csRUFBZ0JYLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkssT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBYUgsS0FDcERjLEVBQVFkLEdBQVlHLEVBQVlILElBS2xDLElBRkdlLEdBQXFCQSxFQUFvQmhCLEdBRXRDTyxFQUFTQyxRQUNkRCxFQUFTVSxPQUFUVixHQU9ELE9BSEFXLEVBQWdCSixLQUFLSyxNQUFNRCxFQUFpQmIsR0FBa0IsSUFHdkRlLElBRVIsU0FBU0Es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RCxJQUFNbUQsRUFBZWxCLFlBQUgsS0E4QlptQixFQUFhWixJQUFPYSxJQUFWLEtBT0QsU0FBU0MsSUFDdEIsT0FDRSxZQUFDLEVBQUQsS0FDRSxZQUFDLElBQUQsQ0FBUUMsT0FBUUosSUFDaEIsWUFBQ0MsRUFBRCxLQUNFLFlBQUMsRUFBRCxRLHVyQkM1Q0QsSUFBTUksRUFBZSxDQUMxQlosS0FBTSxHQUNOcEMsS0FBTSxHQUNObUMsU0FBUyxFQUNUcEUsTUFBTyxLQUNQc0UsU0FBVSxNQ1RHWSxrQkFBZ0IsQ0FDN0J6RCxRRFdhLFdBQXNELElBQTlCM0IsRUFBOEIsdURBQXRCbUYsRUFBY0UsRUFBUSx1Q0FDbkUsT0FBUUEsRUFBTzVFLE1BQ2IsSUxmK0Isc0JLZ0I3QixjQUNLVCxHQURMLElBRUVzRSxTQUFTLEVBQ1RwRSxNQUFPLE9BR1gsSUxyQmlDLHdCS3NCL0IsY0FDS0YsR0FETCxJQUVFc0UsU0FBUyxFQUNUQyxLQUFNYyxFQUFPM0UsUUFBUTZELEtBQ3JCcEMsS0FBTWtELEVBQU8zRSxRQUFReUIsT0FHekIsSUw1QmlDLHdCSzZCL0IsY0FDS25DLEdBREwsSUFFRXNFLFNBQVMsRUFDVHBFLE1BQU9tRixFQUFPM0UsUUFDZDZELEtBQU0sR0FDTnBDLEtBQU0sS0FHVixJTHBDK0Isc0JLcUM3QixjQUNLbkMsR0FETCxJQUVFd0UsU0FBVWEsRUFBTzNFLFVBR3JCLFFBQ0UsT0FBT1YsTUV0Q1BzRixFQUFRQyxZQUNaQyxFQUNBQyxZQUNFQyxZQUFnQkMsS0FDaEJyRyxPQUFPc0csNkJBQStCdEcsT0FBT3NHLCtCQUFrQ0MsR0FBU0EsSUFJNUZDLElBQVN6RixPQUNQLGtCQUFDLElBQUQsQ0FBVWlGLE1BQU9BLEdBQ2Ysa0JBQUNMLEVBQUQsT0FFRmMsU0FBU0MsZUFBZSIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MDogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMTY1LDFdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge2pzeCwgY3NzfSBmcm9tICdAZW1vdGlvbi9jb3JlJ1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge2hhc0Vycm9yOiBmYWxzZX1cbiAgfVxuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICAvLyBVcGRhdGUgc3RhdGUgc28gdGhlIG5leHQgcmVuZGVyIHdpbGwgc2hvdyB0aGUgZmFsbGJhY2sgVUkuXG4gICAgcmV0dXJuIHtoYXNFcnJvcjogdHJ1ZX1cbiAgfVxuXG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICAvLyBZb3UgY2FuIGFsc28gbG9nIHRoZSBlcnJvciB0byBhbiBlcnJvciByZXBvcnRpbmcgc2VydmljZVxuICAgIC8vIGxvZ0Vycm9yVG9NeVNlcnZpY2UoZXJyb3IsIGVycm9ySW5mbylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5oYXNFcnJvcikge1xuICAgICAgcmV0dXJuIDxoMT5Tb21ldGhpbmcgd2VudCB3cm9uZy48L2gxPlxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gIH1cbn1cbiIsImltcG9ydCB3ZWF0aGVyRml4dHVyZSBmcm9tICcuLi9maXh0dXJlcy93ZWF0aGVyRml4dHVyZSdcblxuZXhwb3J0IGNvbnN0IEZFVENIX1dFQVRIRVJfQkVHSU4gPSAnRkVUQ0hfV0VBVEhFUl9CRUdJTidcbmV4cG9ydCBjb25zdCBGRVRDSF9XRUFUSEVSX1NVQ0NFU1MgPSAnRkVUQ0hfV0VBVEhFUl9TVUNDRVNTJ1xuZXhwb3J0IGNvbnN0IEZFVENIX1dFQVRIRVJfRkFJTFVSRSA9ICdGRVRDSF9XRUFUSEVSX0ZBSUxVUkUnXG5leHBvcnQgY29uc3QgU0VMRUNUX1dFQVRIRVJfSVRFTSA9ICdTRUxFQ1RfV0VBVEhFUl9JVEVNJ1xuXG5leHBvcnQgY29uc3QgT1BFTl9XRUFUSEVSX0lEID0gJzI2NDM3NDMnXG5leHBvcnQgY29uc3QgT1BFTl9XRUFUSEVSX0FQUF9JRCA9ICc0MTZmMjE3MzU2Mzg4OTI5MTBmYzc4OGRiZDkyZGMyNCdcblxuZXhwb3J0IGNvbnN0IGZldGNoV2VhdGhlckJlZ2luID0gKCkgPT4gKHtcbiAgdHlwZTogRkVUQ0hfV0VBVEhFUl9CRUdJTixcbn0pXG5cbmV4cG9ydCBjb25zdCBmZXRjaFdlYXRoZXJTdWNjZXNzID0gKGRhdGEpID0+ICh7XG4gIHR5cGU6IEZFVENIX1dFQVRIRVJfU1VDQ0VTUyxcbiAgcGF5bG9hZDogZGF0YSxcbn0pXG5cbmV4cG9ydCBjb25zdCBmZXRjaFdlYXRoZXJGYWlsdXJlID0gKGVycm9yTWVzc2FnZSkgPT4gKHtcbiAgdHlwZTogRkVUQ0hfV0VBVEhFUl9GQUlMVVJFLFxuICBwYXlsb2FkOiBlcnJvck1lc3NhZ2UsXG59KVxuXG5leHBvcnQgY29uc3Qgc2VsZWN0V2VhdGhlckl0ZW0gPSAoaXRlbSkgPT4gKHtcbiAgdHlwZTogU0VMRUNUX1dFQVRIRVJfSVRFTSxcbiAgcGF5bG9hZDogaXRlbSxcbn0pXG5cbmV4cG9ydCBjb25zdCBmZXRjaFdlYXRoZXIgPSAoKSA9PiB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gpID0+IHtcbiAgICB0cnkge1xuICAgICAgZGlzcGF0Y2goZmV0Y2hXZWF0aGVyQmVnaW4oKSlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGBodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9mb3JlY2FzdD9pZD0ke09QRU5fV0VBVEhFUl9JRH0mYXBwaWQ9JHtPUEVOX1dFQVRIRVJfQVBQX0lEfWAsXG4gICAgICApXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICBpZiAoZGF0YS5jb2QgJiYgZGF0YS5jb2QgIT09ICcyMDAnKSB7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaChmZXRjaFdlYXRoZXJGYWlsdXJlKGRhdGEubWVzc2FnZSkpXG4gICAgICB9XG4gICAgICBkaXNwYXRjaChmZXRjaFdlYXRoZXJTdWNjZXNzKGRhdGEpKVxuICAgICAgLy9kaXNwYXRjaChmZXRjaFdlYXRoZXJTdWNjZXNzKHdlYXRoZXJGaXh0dXJlKSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgZGlzcGF0Y2goZmV0Y2hXZWF0aGVyRmFpbHVyZSgnRXJyb3IgZmV0Y2hpbmcgd2VhdGhlciBkYXRhLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyJykpXG4gICAgfVxuICB9XG59XG4iLCIvKiogQGpzeCBqc3ggKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHtjc3MsIGpzeH0gZnJvbSAnQGVtb3Rpb24vY29yZSdcbmltcG9ydCB7QXV0b1NpemVyLCBUYWJsZSwgQ29sdW1ufSBmcm9tICdyZWFjdC12aXJ0dWFsaXplZCdcblxuZnVuY3Rpb24gcm93Q2xhc3NOYW1lKHtpbmRleH0pIHtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiAnaGVhZGVyUm93J1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBpbmRleCAlIDIgPT09IDAgPyAnZXZlblJvdycgOiAnb2RkUm93J1xuICB9XG59XG5cbmNvbnN0IFdlYXRoZXJUYWJsZSA9ICh7b25TZWxlY3QsIHdlYXRoZXJ9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPEF1dG9TaXplcj5cbiAgICAgIHsoe2hlaWdodCwgd2lkdGh9KSA9PiAoXG4gICAgICAgIDxUYWJsZVxuICAgICAgICAgIHdpZHRoPXtNYXRoLm1heCgxNTcwLCB3aWR0aCl9XG4gICAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICAgICAgaGVhZGVySGVpZ2h0PXs0MH1cbiAgICAgICAgICByb3dIZWlnaHQ9ezMwfVxuICAgICAgICAgIHJvd0NvdW50PXt3ZWF0aGVyLmxpc3QubGVuZ3RofVxuICAgICAgICAgIHJvd0dldHRlcj17KHtpbmRleH0pID0+IHdlYXRoZXIubGlzdFtpbmRleF19XG4gICAgICAgICAgcm93Q2xhc3NOYW1lPXtyb3dDbGFzc05hbWV9XG4gICAgICAgICAgb25Sb3dDbGljaz17b25TZWxlY3R9PlxuICAgICAgICAgIDxDb2x1bW4gbGFiZWw9XCJEYXRlXCIgZGF0YUtleT1cImR0X3R4dFwiIHdpZHRoPXsyMDB9IGZsZXhHcm93PXsxfSAvPlxuICAgICAgICAgIDxDb2x1bW4gd2lkdGg9ezExMH0gbGFiZWw9XCJWaXNpYmlsaXR5XCIgZGF0YUtleT1cInZpc2liaWxpdHlcIiBmbGV4R3Jvdz17MX0gLz5cbiAgICAgICAgICA8Q29sdW1uXG4gICAgICAgICAgICB3aWR0aD17MTAwfVxuICAgICAgICAgICAgbGFiZWw9XCJXaW5kXCJcbiAgICAgICAgICAgIGRhdGFLZXk9XCJ3aW5kXCJcbiAgICAgICAgICAgIGNlbGxEYXRhR2V0dGVyPXsoe3Jvd0RhdGF9KSA9PiByb3dEYXRhLndpbmQuc3BlZWQgKyAnIC8gJyArIHJvd0RhdGEud2luZC5kZWd9XG4gICAgICAgICAgICBmbGV4R3Jvdz17MX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxDb2x1bW5cbiAgICAgICAgICAgIHdpZHRoPXsxMDB9XG4gICAgICAgICAgICBsYWJlbD1cIkNsb3Vkc1wiXG4gICAgICAgICAgICBkYXRhS2V5PVwiY2xvdWRzXCJcbiAgICAgICAgICAgIGNlbGxEYXRhR2V0dGVyPXsoe3Jvd0RhdGF9KSA9PiByb3dEYXRhLmNsb3Vkcy5hbGx9XG4gICAgICAgICAgICBmbGV4R3Jvdz17MX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxDb2x1bW5cbiAgICAgICAgICAgIHdpZHRoPXsxMDB9XG4gICAgICAgICAgICBsYWJlbD1cIlJhaW5cIlxuICAgICAgICAgICAgZGF0YUtleT1cInJhaW5cIlxuICAgICAgICAgICAgY2VsbERhdGFHZXR0ZXI9eyh7cm93RGF0YX0pID0+IHJvd0RhdGEucmFpbiAmJiByb3dEYXRhLnJhaW5bJzNoJ119XG4gICAgICAgICAgICBmbGV4R3Jvdz17MX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxDb2x1bW5cbiAgICAgICAgICAgIHdpZHRoPXsxMjB9XG4gICAgICAgICAgICBsYWJlbD1cIkZlZWxzIGxpa2VcIlxuICAgICAgICAgICAgZGF0YUtleT1cImZlZWxzX2xpa2VcIlxuICAgICAgICAgICAgY2VsbERhdGFHZXR0ZXI9eyh7cm93RGF0YX0pID0+IHJvd0RhdGEubWFpbi5mZWVsc19saWtlfVxuICAgICAgICAgICAgZmxleEdyb3c9ezF9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8Q29sdW1uXG4gICAgICAgICAgICB3aWR0aD17MTQwfVxuICAgICAgICAgICAgbGFiZWw9XCJHcm5kIExldmVsXCJcbiAgICAgICAgICAgIGRhdGFLZXk9XCJncm5kX2xldmVsXCJcbiAgICAgICAgICAgIGNlbGxEYXRhR2V0dGVyPXsoe3Jvd0RhdGF9KSA9PiByb3dEYXRhLm1haW4uZ3JuZF9sZXZlbH1cbiAgICAgICAgICAgIGZsZXhHcm93PXsxfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPENvbHVtblxuICAgICAgICAgICAgd2lkdGg9ezEyMH1cbiAgICAgICAgICAgIGxhYmVsPVwiSHVtaWRpdHlcIlxuICAgICAgICAgICAgZGF0YUtleT1cImh1bWlkaXR5XCJcbiAgICAgICAgICAgIGNlbGxEYXRhR2V0dGVyPXsoe3Jvd0RhdGF9KSA9PiByb3dEYXRhLm1haW4uaHVtaWRpdHl9XG4gICAgICAgICAgICBmbGV4R3Jvdz17MX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxDb2x1bW5cbiAgICAgICAgICAgIHdpZHRoPXsxMjB9XG4gICAgICAgICAgICBsYWJlbD1cIlByZXNzdXJlXCJcbiAgICAgICAgICAgIGRhdGFLZXk9XCJwcmVzc3VyZVwiXG4gICAgICAgICAgICBjZWxsRGF0YUdldHRlcj17KHtyb3dEYXRhfSkgPT4gcm93RGF0YS5tYWluLnByZXNzdXJlfVxuICAgICAgICAgICAgZmxleEdyb3c9ezF9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8Q29sdW1uXG4gICAgICAgICAgICB3aWR0aD17MTIwfVxuICAgICAgICAgICAgbGFiZWw9XCJTZWEgTGV2ZWxcIlxuICAgICAgICAgICAgZGF0YUtleT1cInNlYV9sZXZlbFwiXG4gICAgICAgICAgICBjZWxsRGF0YUdldHRlcj17KHtyb3dEYXRhfSkgPT4gcm93RGF0YS5tYWluLnNlYV9sZXZlbH1cbiAgICAgICAgICAgIGZsZXhHcm93PXsxfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPENvbHVtblxuICAgICAgICAgICAgd2lkdGg9ezEyMH1cbiAgICAgICAgICAgIGxhYmVsPVwiVGVtcFwiXG4gICAgICAgICAgICBkYXRhS2V5PVwidGVtcFwiXG4gICAgICAgICAgICBjZWxsRGF0YUdldHRlcj17KHtyb3dEYXRhfSkgPT4gcm93RGF0YS5tYWluLnRlbXB9XG4gICAgICAgICAgICBmbGV4R3Jvdz17MX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxDb2x1bW5cbiAgICAgICAgICAgIHdpZHRoPXsxMjB9XG4gICAgICAgICAgICBsYWJlbD1cIlRlbXAgbWluXCJcbiAgICAgICAgICAgIGRhdGFLZXk9XCJ0ZW1wX21pblwiXG4gICAgICAgICAgICBjZWxsRGF0YUdldHRlcj17KHtyb3dEYXRhfSkgPT4gcm93RGF0YS5tYWluLnRlbXBfbWlufVxuICAgICAgICAgICAgZmxleEdyb3c9ezF9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8Q29sdW1uXG4gICAgICAgICAgICB3aWR0aD17MTIwfVxuICAgICAgICAgICAgbGFiZWw9XCJUZW1wIG1heFwiXG4gICAgICAgICAgICBkYXRhS2V5PVwidGVtcF9tYXhcIlxuICAgICAgICAgICAgY2VsbERhdGFHZXR0ZXI9eyh7cm93RGF0YX0pID0+IHJvd0RhdGEubWFpbi50ZW1wX21heH1cbiAgICAgICAgICAgIGZsZXhHcm93PXsxfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvVGFibGU+XG4gICAgICApfVxuICAgIDwvQXV0b1NpemVyPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYXRoZXJUYWJsZVxuIiwiLyoqIEBqc3gganN4ICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7Y3NzLCBqc3h9IGZyb20gJ0BlbW90aW9uL2NvcmUnXG5pbXBvcnQge0F1dG9TaXplciwgVGFibGUsIENvbHVtbn0gZnJvbSAncmVhY3QtdmlydHVhbGl6ZWQnXG5cbmZ1bmN0aW9uIHJvd0NsYXNzTmFtZSh7aW5kZXh9KSB7XG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gJ2hlYWRlclJvdydcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaW5kZXggJSAyID09PSAwID8gJ2V2ZW5Sb3cnIDogJ29kZFJvdydcbiAgfVxufVxuXG5jb25zdCBXZWF0aGVySXRlbVRhYmxlID0gKHtpdGVtfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8QXV0b1NpemVyPlxuICAgICAgICB7KHtoZWlnaHQsIHdpZHRofSkgPT4gKFxuICAgICAgICAgIDxUYWJsZVxuICAgICAgICAgICAgd2lkdGg9e01hdGgubWF4KDU1MCwgd2lkdGgpfVxuICAgICAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICAgICAgICBoZWFkZXJIZWlnaHQ9ezQwfVxuICAgICAgICAgICAgcm93SGVpZ2h0PXszMH1cbiAgICAgICAgICAgIHJvd0NvdW50PXtpdGVtLndlYXRoZXIubGVuZ3RofVxuICAgICAgICAgICAgcm93R2V0dGVyPXsoe2luZGV4fSkgPT4gaXRlbS53ZWF0aGVyW2luZGV4XX1cbiAgICAgICAgICAgIHJvd0NsYXNzTmFtZT17cm93Q2xhc3NOYW1lfT5cbiAgICAgICAgICAgIDxDb2x1bW4gbGFiZWw9XCJNYWluXCIgZGF0YUtleT1cIm1haW5cIiB3aWR0aD17MTUwfSAvPlxuICAgICAgICAgICAgPENvbHVtbiB3aWR0aD17MjAwfSBsYWJlbD1cIkRlc2NyaXB0aW9uXCIgZGF0YUtleT1cImRlc2NyaXB0aW9uXCIgZmxleEdyb3c9ezF9IC8+XG4gICAgICAgICAgICA8Q29sdW1uIHdpZHRoPXsyMDB9IGxhYmVsPVwiSWNvblwiIGRhdGFLZXk9XCJpY29uXCIgLz5cbiAgICAgICAgICA8L1RhYmxlPlxuICAgICAgICApfVxuICAgICAgPC9BdXRvU2l6ZXI+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgV2VhdGhlckl0ZW1UYWJsZVxuIiwiLyoqIEBqc3gganN4ICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQge2NzcywganN4fSBmcm9tICdAZW1vdGlvbi9jb3JlJ1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnXG5cbmltcG9ydCB7ZmV0Y2hXZWF0aGVyLCBzZWxlY3RXZWF0aGVySXRlbX0gZnJvbSAnLi4vLi4vYWN0aW9ucy93ZWF0aGVyJ1xuaW1wb3J0IFdlYXRoZXJUYWJsZSBmcm9tICcuL1dlYXRoZXJUYWJsZSdcbmltcG9ydCBXZWF0aGVySXRlbVRhYmxlIGZyb20gJy4vV2VhdGhlckl0ZW1UYWJsZSdcblxuY29uc3QgY29udGFpbmVyID0gY3NzYFxuICBoZWlnaHQ6IDgwJTtcbiAgd2lkdGg6IDEwMCU7XG5gXG5cbmNvbnN0IGhlYWRlciA9IGNzc2BcbiAgcGFkZGluZzogY2FsYygyZW0gKyAxMHB4KTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmJmYztcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAtMXB4IDAgI2UxZTRlODtcbmBcblxuY29uc3Qgc3ViaGVhZGVyID0gY3NzYFxuICBwYWRkaW5nOiAxZW0gMmVtO1xuICBib3gtc2hhZG93OiBpbnNldCAwIC0xcHggMCAjZTFlNGU4O1xuYFxuXG5jb25zdCB0YWJsZSA9IGNzc2BcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIGhlaWdodDogMTAwJTtcbiAgcGFkZGluZzogMmVtO1xuYFxuXG5jb25zdCBsb2FkaW5nU3R5bGVzID0gY3NzYFxuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgc3BhbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIG1heC13aWR0aDogNTAwcHg7XG4gIH1cbmBcblxuY29uc3QgZXJyb3JTdHlsZXMgPSBjc3NgXG4gICR7bG9hZGluZ1N0eWxlc31cbiAgY29sb3I6IHJlZDtcbmBcblxuY29uc3QgQnV0dG9uID0gc3R5bGVkLmFgXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuXG4gIG1pbi13aWR0aDogNzBweDtcbiAgcGFkZGluZzogMC41ZW0gMS4xMjVlbTtcbiAgbWFyZ2luLWxlZnQ6IDJlbTtcblxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA4N2ZmO1xuICBib3JkZXItY29sb3I6ICMwMDYwZmY7XG4gIGNvbG9yOiAjZmZmO1xuICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgJjpmb2N1cyB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgfVxuICAmOmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNjBmZjtcbiAgfVxuYFxuXG5jb25zdCBXZWF0aGVyVmlldyA9ICh7ZGlzcGF0Y2gsIHdlYXRoZXJ9KSA9PiB7XG4gIGNvbnN0IHtsb2FkaW5nLCBjaXR5LCBzZWxlY3RlZCwgZXJyb3J9ID0gd2VhdGhlclxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGF0Y2goZmV0Y2hXZWF0aGVyKCkpXG4gIH0sIFtdKVxuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY3NzPXtsb2FkaW5nU3R5bGVzfT5cbiAgICAgICAgPHNwYW4+TG9hZGluZyB3ZWF0aGVyIGRhdGEuLi48L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjc3M9e2Vycm9yU3R5bGVzfT5cbiAgICAgICAgPHNwYW4+e2Vycm9yfTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdEl0ZW0oZXZlbnQpIHtcbiAgICBkaXNwYXRjaChzZWxlY3RXZWF0aGVySXRlbShldmVudC5yb3dEYXRhKSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyU2VsZWN0ZWRJdGVtKCkge1xuICAgIGRpc3BhdGNoKHNlbGVjdFdlYXRoZXJJdGVtKG51bGwpKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNzcz17Y29udGFpbmVyfT5cbiAgICAgIDxkaXYgY3NzPXtoZWFkZXJ9PlxuICAgICAgICA8aDI+XG4gICAgICAgICAge2NpdHkubmFtZX0sIHtjaXR5LmNvdW50cnl9XG4gICAgICAgIDwvaDI+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtzZWxlY3RlZCAmJiAoXG4gICAgICAgIDxkaXYgY3NzPXtzdWJoZWFkZXJ9PlxuICAgICAgICAgIHtzZWxlY3RlZC5kdF90eHR9IDxCdXR0b24gb25DbGljaz17Y2xlYXJTZWxlY3RlZEl0ZW19PlJldHVybjwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8ZGl2IGNzcz17dGFibGV9PlxuICAgICAgICB7c2VsZWN0ZWQgPyAoXG4gICAgICAgICAgPFdlYXRoZXJJdGVtVGFibGUgaXRlbT17c2VsZWN0ZWR9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPFdlYXRoZXJUYWJsZSBvblNlbGVjdD17aGFuZGxlU2VsZWN0SXRlbX0gd2VhdGhlcj17d2VhdGhlcn0gLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4gKHtcbiAgd2VhdGhlcjogc3RhdGUud2VhdGhlcixcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShXZWF0aGVyVmlldylcbiIsIi8qKiBAanN4IGpzeCAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCdcbmltcG9ydCB7Y3NzLCBHbG9iYWwsIGpzeH0gZnJvbSAnQGVtb3Rpb24vY29yZSdcblxuaW1wb3J0IEVycm9yQm91bmRhcnkgZnJvbSAnLi9jb21wb25lbnRzL0Vycm9yQm91bmRhcnknXG5pbXBvcnQgV2VhdGhlclZpZXcgZnJvbSAnLi9jb21wb25lbnRzL1dlYXRoZXJWaWV3J1xuXG5jb25zdCBnbG9iYWxTdHlsZXMgPSBjc3NgXG4gIGh0bWwsXG4gIGJvZHksXG4gICNyb290IHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAqLFxuICAqOjpiZWZvcmUsXG4gICo6OmFmdGVyIHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICB9XG5cbiAgYm9keSB7XG4gICAgZm9udC1mYW1pbHk6IENpcmN1bGFyLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgY29sb3I6IHZhcigtLWZvbnQtY29sb3IpO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXRlcnRpYXJ5LWNvbG9yKTtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogMDtcbiAgfVxuXG4gIC5ldmVuUm93IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICB9XG4gIC5vZGRSb3cge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGVmZWY7XG4gIH1cbmBcblxuY29uc3QgQXBwV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbmBcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwKCkge1xuICByZXR1cm4gKFxuICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgPEdsb2JhbCBzdHlsZXM9e2dsb2JhbFN0eWxlc30gLz5cbiAgICAgIDxBcHBXcmFwcGVyPlxuICAgICAgICA8V2VhdGhlclZpZXcgLz5cbiAgICAgIDwvQXBwV3JhcHBlcj5cbiAgICA8L0Vycm9yQm91bmRhcnk+XG4gIClcbn1cbiIsImltcG9ydCB7XG4gIEZFVENIX1dFQVRIRVJfQkVHSU4sXG4gIEZFVENIX1dFQVRIRVJfU1VDQ0VTUyxcbiAgRkVUQ0hfV0VBVEhFUl9GQUlMVVJFLFxuICBTRUxFQ1RfV0VBVEhFUl9JVEVNLFxufSBmcm9tICcuLi9hY3Rpb25zL3dlYXRoZXInXG5cbmV4cG9ydCBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIGNpdHk6IHt9LFxuICBsaXN0OiBbXSxcbiAgbG9hZGluZzogZmFsc2UsXG4gIGVycm9yOiBudWxsLFxuICBzZWxlY3RlZDogbnVsbCxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2VhdGhlclJlZHVjZXIoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBGRVRDSF9XRUFUSEVSX0JFR0lOOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfVxuXG4gICAgY2FzZSBGRVRDSF9XRUFUSEVSX1NVQ0NFU1M6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgIGNpdHk6IGFjdGlvbi5wYXlsb2FkLmNpdHksXG4gICAgICAgIGxpc3Q6IGFjdGlvbi5wYXlsb2FkLmxpc3QsXG4gICAgICB9XG5cbiAgICBjYXNlIEZFVENIX1dFQVRIRVJfRkFJTFVSRTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBjaXR5OiB7fSxcbiAgICAgICAgbGlzdDogW10sXG4gICAgICB9XG5cbiAgICBjYXNlIFNFTEVDVF9XRUFUSEVSX0lURU06XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgc2VsZWN0ZWQ6IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQge2NvbWJpbmVSZWR1Y2Vyc30gZnJvbSAncmVkdXgnXG5pbXBvcnQgd2VhdGhlciBmcm9tICcuL3dlYXRoZXInXG5cbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIHdlYXRoZXIsXG59KVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCB7Y3JlYXRlU3RvcmUsIGFwcGx5TWlkZGxld2FyZSwgY29tcG9zZX0gZnJvbSAncmVkdXgnXG5pbXBvcnQge1Byb3ZpZGVyfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB0aHVuayBmcm9tICdyZWR1eC10aHVuaydcbmltcG9ydCAncmVhY3QtdmlydHVhbGl6ZWQvc3R5bGVzLmNzcydcblxuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCdcbmltcG9ydCByb290UmVkdWNlciBmcm9tICcuL3JlZHVjZXJzJ1xuXG5jb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKFxuICByb290UmVkdWNlcixcbiAgY29tcG9zZShcbiAgICBhcHBseU1pZGRsZXdhcmUodGh1bmspLFxuICAgIHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9fID8gd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX18oKSA6IChub29wKSA9PiBub29wLFxuICApLFxuKVxuXG5SZWFjdERPTS5yZW5kZXIoXG4gIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgIDxBcHAgLz5cbiAgPC9Qcm92aWRlcj4sXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JyksXG4pXG4iXSwic291cmNlUm9vdCI6IiJ9